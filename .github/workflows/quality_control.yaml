name: ğŸ§ª Quality Control

on:
  workflow_dispatch:  # ğŸ¯ Manual trigger
  push:              # ğŸš€ Auto-trigger on push
    branches:
      - main         # ğŸ‘‘ Main branch
      - alpha          # ğŸ› ï¸ Alpha branch
  pull_request:      # ğŸ¤ PR checks
    branches:
      - main         # ğŸ¯ Target branch

jobs:
  shell_detective:   # ğŸ” Shell script inspection time!
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Fetch the Code
        uses: actions/checkout@v4

      - name: ğŸ•µï¸ Shell Script Investigation
        uses: ludeeus/action-shellcheck@master
        # ğŸ§ Making sure our shell scripts are squeaky clean!

  action_adventure:  # ğŸ® Testing our action
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¦ Clone the Goodies
        uses: actions/checkout@v4

      - name: ğŸ¯ Run Flutter Coverage Action
        id: flutter-coverage-action
        uses: ./
        with:
          coverage_base_dir: 'example'
          max_reports: '100'
          debug_mode: '1'
          comment_on_pr: 'true'
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        
